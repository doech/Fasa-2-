import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;

public class MainGUI extends JFrame {
    private Mapa mapa;
    private JComboBox<String> peligrosComboBox;
    private JButton calificarButton;
    private JTextField calificacionField;
    private JTextField tipoField;
    private JTextField descripcionField;
    private JTextField latitudField;
    private JTextField longitudField;
    private JTextArea peligrosTextArea;

    public MainGUI(Mapa mapa) {
        this.mapa = mapa;
        setTitle("Aplicación de Peligros");
        setSize(500, 400);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLayout(new BorderLayout());

        //interfaz para registrar peligros
        JPanel panelRegistro = new JPanel(new GridLayout(5, 2));
        panelRegistro.setBorder(BorderFactory.createTitledBorder("Registrar Peligro"));

        panelRegistro.add(new JLabel("Tipo de peligro:"));
        tipoField = new JTextField(15);
        panelRegistro.add(tipoField);

        panelRegistro.add(new JLabel("Descripción:"));
        descripcionField = new JTextField(15);
        panelRegistro.add(descripcionField);

        panelRegistro.add(new JLabel("Latitud:"));
        latitudField = new JTextField(15);
        panelRegistro.add(latitudField);

        panelRegistro.add(new JLabel("Longitud:"));
        longitudField = new JTextField(15);
        panelRegistro.add(longitudField);

        JButton registrarPeligroButton = new JButton("Registrar Peligro");
        registrarPeligroButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                registrarPeligro();
            }
        });
        panelRegistro.add(new JLabel()); 
        panelRegistro.add(registrarPeligroButton);

        //mostrar peligros cercanos
        JPanel panelDeteccion = new JPanel(new BorderLayout());
        panelDeteccion.setBorder(BorderFactory.createTitledBorder("Detectar Peligro Cercano"));
        peligrosTextArea = new JTextArea(10, 40);
        peligrosTextArea.setEditable(false);
        JScrollPane scrollPane = new JScrollPane(peligrosTextArea);

        JPanel panelDeteccionInputs = new JPanel(new GridLayout(3, 2));
        JTextField latitudDeteccionField = new JTextField(10);
        JTextField longitudDeteccionField = new JTextField(10);
        JTextField rangoDeteccionField = new JTextField(10);

        panelDeteccionInputs.add(new JLabel("Latitud:"));
        panelDeteccionInputs.add(latitudDeteccionField);
        panelDeteccionInputs.add(new JLabel("Longitud:"));
        panelDeteccionInputs.add(longitudDeteccionField);
        panelDeteccionInputs.add(new JLabel("Rango:"));
        panelDeteccionInputs.add(rangoDeteccionField);

        JButton detectarPeligroButton = new JButton("Detectar Peligro");
